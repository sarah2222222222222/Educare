<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>Settings Page without Chatbot Avatar</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
   /* Custom scrollbar for left nav */
   ::-webkit-scrollbar {
     width: 6px;
   }
   ::-webkit-scrollbar-thumb {
     background-color: #cbd5e1;
     border-radius: 3px;
   }
  </style>
 </head>
 <body class="bg-[#f9f9fb] min-h-screen flex justify-center items-start p-4 font-sans">
  <div class="w-full max-w-[100vw] min-h-screen bg-white rounded-md shadow-md flex flex-col overflow-x-auto">
   <!-- Top bar with white border -->
   <div class="flex items-center justify-between border border-white rounded-t-md bg-white px-4 py-2">
    <img alt="Small colorful logo with star and circle shapes" class="h-6 w-6" height="24" src="../assets/Images/Untitled design (1).png" width="24"/>
    <h1 class="text-[#2a8ae0] font-bold text-lg select-none">settings</h1>
    <button aria-label="Go to home" class="text-[#2a8ae0] hover:text-[#1e6bb8] focus:outline-none" id="home-btn" type="button">
     <i class="fas fa-play fa-xs"></i>
    </button>
   </div>
   <div class="flex border border-t-0 border-[#eaeaea] rounded-b-md overflow-hidden min-h-[480px] max-w-[100vw]">
    <!-- Left nav -->
    <nav class="flex flex-row md:flex-col space-x-6 md:space-x-0 md:space-y-6 bg-white rounded-xl p-4 md:p-6 w-full md:w-48 shadow-[0_0_10px_#f0f2f5] min-h-[auto] md:min-h-[400px] overflow-x-auto md:overflow-visible">
        <a href="../Pages/index.html" class="flex items-center space-x-2 text-[#0d8cf0] font-semibold text-sm hover:text-[#0b7cd9] transition-colors duration-200 whitespace-nowrap">
         <i class="fas fa-list-ul text-lg">
         </i>
         <span>
          Home
         </span>
        </a> 
       <a href="../Pages/dash.html" class="flex items-center space-x-3 text-xs text-black font-normal hover:text-[#0d8cf0] hover:font-semibold transition-colors duration-200 whitespace-nowrap">
         <img alt="Icon of a clipboard representing classrooms" class="w-5 h-5" height="20" src="../assets/Images/live-streaming.png" width="20"/>
         <span>
          classrooms
         </span>
        </a>
        <a href="../Pages/favorites.html" class="flex items-center space-x-3 text-xs text-black font-normal hover:text-[#0d8cf0] hover:font-semibold transition-colors duration-200 whitespace-nowrap">
         <img alt="Icon of a yellow star representing favorites" class="w-5 h-5" height="20" src="../assets/Images/star.png" width="20"/>
         <span>
          favorites
         </span>
        </a>
        <a href="../Pages/archived.html" class="flex items-center space-x-3 text-xs text-black font-normal hover:text-[#0d8cf0] hover:font-semibold transition-colors duration-200 whitespace-nowrap">
         <img alt="Icon of a school building representing archived classes" class="w-5 h-5" height="20" src="../assets/Images/archive.png" width="20"/>
         <span>
          archived classes
         </span>
        </a>
        <a href="./store.html" class="flex items-center space-x-3 text-xs text-black font-normal hover:text-[#0d8cf0] hover:font-semibold transition-colors duration-200 whitespace-nowrap">
         <img alt="Icon of an app store symbol representing store" class="w-5 h-5" height="20" src="../assets/Images/app-store.png" width="20"/>
         <span>
          store
         </span>
        </a>
        <a href="./settings.html" class="flex items-center space-x-3 text-xs text-black font-normal hover:text-[#0d8cf0] hover:font-semibold transition-colors duration-200 whitespace-nowrap">
         <img alt="Icon of a gear representing settings" class="w-5 h-5" height="20" src="../assets/Images/settings.png" width="20"/>
         <span>
          settings
         </span>
        </a> 
       </nav>
    <!-- Main content -->
    <main class="flex-1 p-6 bg-white rounded-r-md min-w-[320px] max-w-[calc(100vw-80px)] overflow-auto relative">
     <!-- Interests -->
    <!-- Interests -->
    <section class="mb-6">
        <h2 class="font-bold text-sm mb-2 select-none">
         Interests
        </h2>
        <div aria-label="Selectable interests" id="interests-container" role="list" class="border border-[#eaeaea] rounded-xl min-h-[80px] p-3 text-[10px] text-[#6b6b6b] select-none flex flex-wrap gap-2" style="">
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Swimming
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Reading
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Traveling
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Cooking
         </button>
         <button aria-pressed="true" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#2a8ae0] text-white hover:bg-[#1e6bb8]" type="button" style="">
          Music
         </button>
         <button aria-pressed="true" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#2a8ae0] text-white hover:bg-[#1e6bb8]" type="button">
          Sports
         </button>
         <button aria-pressed="true" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#2a8ae0] text-white hover:bg-[#1e6bb8]" type="button">
          Gardening
         </button>
         <button aria-pressed="true" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#2a8ae0] text-white hover:bg-[#1e6bb8]" type="button">
          Painting
         </button>
         <button aria-pressed="true" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#2a8ae0] text-white hover:bg-[#1e6bb8]" type="button">
          Photography
         </button>
         <button aria-pressed="true" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#2a8ae0] text-white hover:bg-[#1e6bb8]" type="button">
          Writing
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Dancing
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Hiking
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Yoga
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Meditation
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Fishing
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Running
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Cycling
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Skiing
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Surfing
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Chess
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Coding
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Baking
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Volunteering
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Astronomy
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Birdwatching
         </button>
         <button aria-pressed="false" class="inline-block rounded-full px-2 py-[2px] cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#2a8ae0] transition select-none bg-[#e1e1e1] text-[#6b6b6b] hover:bg-[#c0d7f7]" type="button">
          Collecting
         </button>
        </div>
       </section>
     <!-- Profile -->
     <section>
      <div class="border border-[#eaeaea] rounded-xl p-4 flex flex-col md:flex-row md:items-start gap-6">
       <div class="flex-1 max-w-[400px]">
        <div class="flex items-center gap-2 mb-4 select-none">
         <div>
          <p class="font-bold text-xs">profile</p>
          <p class="text-[10px] text-[#6b6b6b]">profile picture</p>
         </div>
         <img alt="Small round avatar of a man with beard and glasses" class="w-8 h-8 rounded-full cursor-pointer" height="32" id="profile-pic" src="https://storage.googleapis.com/a1aa/image/97f29d75-8926-4aae-6fbd-919a6efdd45c.jpg" width="32"/>
         <button class="text-[10px] text-[#2a8ae0] hover:underline focus:outline-none" type="button" id="change-btn">CHANGE</button>
         <input accept="image/*" class="hidden" id="profile-pic-input" type="file"/>
        </div>
        <label class="block font-bold text-[11px] mb-1 select-none" for="firstName">First Name</label>
        <input class="w-full mb-4 rounded-xl border border-[#eaeaea] px-3 py-2 text-[12px] focus:outline-none focus:ring-2 focus:ring-[#2a8ae0]" id="firstName" type="text"/>
        <label class="block font-bold text-[11px] mb-1 select-none" for="lastName">Last Name</label>
        <input class="w-full mb-4 rounded-xl border border-[#eaeaea] px-3 py-2 text-[12px] focus:outline-none focus:ring-2 focus:ring-[#2a8ae0]" id="lastName" type="text"/>
        <label class="block font-bold text-[11px] mb-1 select-none" for="email">Email</label>
        <input class="w-full mb-4 rounded-xl border border-[#eaeaea] px-3 py-2 text-[12px] focus:outline-none focus:ring-2 focus:ring-[#2a8ae0]" id="email" type="email"/>
        <button class="mb-2 bg-[#2a8ae0] text-white text-[10px] font-semibold rounded-full px-4 py-1.5 hover:bg-[#1e6bb8] focus:outline-none" id="update-password-btn" type="button">Update password</button>
        <div class="text-[8px] text-[#6b6b6b] bg-[#e1e6f4] rounded-full px-2 py-1 inline-flex items-center gap-1 select-none">
         <span>Email sent:check your email to update password</span>
         <button class="text-[#2a8ae0] font-semibold hover:underline focus:outline-none" id="resend-btn" type="button">Resend</button>
        </div>
        <button class="mt-6 bg-[#2a8ae0] text-white text-[12px] font-semibold rounded-full px-20 py-2 hover:bg-[#1e6bb8] focus:outline-none" id="save-changes-btn" type="submit">Save changes</button>
       </div>
      </div>
     </section>
     <!-- Update Password Modal -->
     <div aria-hidden="true" class="fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50 hidden" id="password-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <div class="bg-white rounded-lg max-w-sm w-full p-6 relative">
       <h3 class="text-lg font-semibold mb-4" id="modal-title">Update Password</h3>
       <form id="password-form" class="flex flex-col gap-4">
        <input aria-label="Current password" class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2a8ae0]" id="current-password" placeholder="Current password" required="" type="password"/>
        <input aria-label="New password" class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2a8ae0]" id="new-password" placeholder="New password" required="" type="password"/>
        <input aria-label="Confirm new password" class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2a8ae0]" id="confirm-password" placeholder="Confirm new password" required="" type="password"/>
        <div class="flex justify-end gap-3 mt-2">
         <button class="px-4 py-2 rounded-full bg-gray-300 hover:bg-gray-400 focus:outline-none" id="cancel-btn" type="button">Cancel</button>
         <button class="px-4 py-2 rounded-full bg-[#2a8ae0] text-white hover:bg-[#1e6bb8] focus:outline-none" type="submit">Update</button>
        </div>
       </form>
      </div>
     </div>
    </main>
   </div>
  </div>
  <script>
   // Toggle interest selection
   document.querySelectorAll('#interests-container button').forEach(button => {
     button.addEventListener('click', () => {
       const selected = button.getAttribute('aria-pressed') === 'true';
       if (selected) {
         button.setAttribute('aria-pressed', 'false');
         button.classList.remove('bg-[#2a8ae0]', 'text-white', 'hover:bg-[#1e6bb8]');
         button.classList.add('bg-[#e1e1e1]', 'text-[#6b6b6b]', 'hover:bg-[#c0d7f7]');
       } else {
         button.setAttribute('aria-pressed', 'true');
         button.classList.add('bg-[#2a8ae0]', 'text-white', 'hover:bg-[#1e6bb8]');
         button.classList.remove('bg-[#e1e1e1]', 'text-[#6b6b6b]', 'hover:bg-[#c0d7f7]');
       }
     });
   });

   // Profile picture change logic
   const profilePic = document.getElementById('profile-pic');
   const profilePicInput = document.getElementById('profile-pic-input');
   const changeBtn = document.getElementById('change-btn');

   function openFileDialog() {
     profilePicInput.click();
   }

   profilePic.addEventListener('click', openFileDialog);
   changeBtn.addEventListener('click', openFileDialog);

   profilePicInput.addEventListener('change', (event) => {
     const file = event.target.files[0];
     if (file) {
       const reader = new FileReader();
       reader.onload = function(e) {
         profilePic.src = e.target.result;
       };
       reader.readAsDataURL(file);
     }
   });

   // Update password modal logic
   const updatePasswordBtn = document.getElementById('update-password-btn');
   const passwordModal = document.getElementById('password-modal');
   const cancelBtn = document.getElementById('cancel-btn');
   const passwordForm = document.getElementById('password-form');

   let updatedPassword = null;

   updatePasswordBtn.addEventListener('click', () => {
     passwordModal.classList.remove('hidden');
   });

   cancelBtn.addEventListener('click', () => {
     passwordModal.classList.add('hidden');
     passwordForm.reset();
   });

   passwordModal.addEventListener('click', (e) => {
     if (e.target === passwordModal) {
       passwordModal.classList.add('hidden');
       passwordForm.reset();
     }
   });

   passwordForm.addEventListener('submit', (e) => {
     e.preventDefault();
     const currentPassword = document.getElementById('current-password').value.trim();
     const newPassword = document.getElementById('new-password').value.trim();
     const confirmPassword = document.getElementById('confirm-password').value.trim();

     if (newPassword !== confirmPassword) {
       alert('New password and confirmation do not match.');
       return;
     }
     if (newPassword.length < 6) {
       alert('New password must be at least 6 characters.');
       return;
     }
     updatedPassword = newPassword;
     alert('Password updated successfully!');
     passwordModal.classList.add('hidden');
     passwordForm.reset();
   });

   // Email verification resend button logic
   const resendBtn = document.getElementById('resend-btn');
   resendBtn.addEventListener('click', () => {
     resendBtn.disabled = true;
     resendBtn.textContent = 'Sending...';

     setTimeout(() => {
       alert('Verification email sent! Please check your inbox.');
       resendBtn.textContent = 'Resend';
       resendBtn.disabled = false;
     }, 2000);
   });

   // Save changes button logic
   const saveChangesBtn = document.getElementById('save-changes-btn');
   saveChangesBtn.addEventListener('click', (e) => {
     e.preventDefault();

     const profilePictureSrc = profilePic.src;
     const firstName = document.getElementById('firstName').value.trim();
     const lastName = document.getElementById('lastName').value.trim();
     const email = document.getElementById('email').value.trim();

     const selectedInterests = [];
     document.querySelectorAll('#interests-container button[aria-pressed="true"]').forEach(btn => {
       selectedInterests.push(btn.textContent.trim());
     });

     const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
     if (email && !emailRegex.test(email)) {
       alert('Please enter a valid email address.');
       return;
     }

     const userData = {
       profilePicture: profilePictureSrc,
       firstName,
       lastName,
       email,
       interests: selectedInterests,
       updatedPassword: updatedPassword
     };

     console.log('Saving user data:', userData);
     alert('Your changes have been saved successfully!');
     updatedPassword = null;
   });

   // Home button navigation
   const homeBtn = document.getElementById('home-btn');
   homeBtn.addEventListener('click', () => {
     window.location.href = '/';
   });
  </script>
 </body>
</html>